include ../common/data.pug

include ../components/BookBlock.pug
include ../components/Pagination.pug
include ../components/Button.pug
include ../components/Select.pug

include ../containers/Header.pug
include ../containers/Sidebar.pug

doctype html
html
	head
		meta(charset="utf-8")
		meta(name="viewport" content="width=device-width, initial-scale=1.0")
		meta(http-equiv="X-UA-Compatible" content="ie=edge")
		title EPR Library
		block head

		//- CSS
		link(rel="stylesheet" type="text/css" href="./assets/css/main.css")

		//- Favicon
		link(rel="icon" type="image/png" href="./assets/img/favicon.svg")

		//- Font
		link(href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet")

		//- CSS Implementing Plugins
		link(rel="stylesheet" href="./assets/vendor/bootstrap-icons/font/bootstrap-icons.css")
		link(rel="stylesheet" href="./assets/vendor/chart.js/dist/Chart.min.css")
		link(rel="stylesheet" href="./assets/vendor/daterangepicker/daterangepicker.css")
		link(rel="stylesheet" href="./assets/vendor/tom-select/dist/css/tom-select.bootstrap5.css")
		link(rel="stylesheet" href="./assets/vendor/flatpickr/dist/flatpickr.min.css")

		link(rel="preload" href="./assets/css/theme/theme.min.css" data-hs-appearance="default" as="style")
		link(rel="preload" href="./assets/css/theme/theme-dark.min.css" data-hs-appearance="dark" as="style")

		style(data-hs-appearance-onload-styles).
			*
				{
					transition: unset !important;
				}

				body
				{
					opacity: 0;
				}

		script.
			window.hs_config = {"autopath":"@@autopath","deleteLine":"hs-builder:delete","deleteLine:build":"hs-builder:build-delete","deleteLine:dist":"hs-builder:dist-delete","previewMode":false,"startPath":"/index.html","vars":{"themeFont":"https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap","version":"?v=1.0"},"layoutBuilder":{"extend":{"switcherSupport":true},"header":{"layoutMode":"default","containerMode":"container-fluid"},"sidebarLayout":"default"},"themeAppearance":{"layoutSkin":"default","sidebarSkin":"default","styles":{"colors":{"primary":"#377dff","transparent":"transparent","white":"#fff","dark":"132144","gray":{"100":"#f9fafc","900":"#1e2022"}},"font":"Inter"}},"languageDirection":{"lang":"en"},"skipFilesFromBundle":{"dist":["assets/js/hs.theme-appearance.js","assets/js/hs.theme-appearance-charts.js","assets/js/demo.js"],"build":["assets/css/theme.css","assets/vendor/hs-navbar-vertical-aside/dist/hs-navbar-vertical-aside-mini-cache.js","assets/js/demo.js","assets/css/theme-dark.css","assets/css/docs.css","assets/vendor/icon-set/style.css","assets/js/hs.theme-appearance.js","assets/js/hs.theme-appearance-charts.js","node_modules/chartjs-plugin-datalabels/dist/chartjs-plugin-datalabels.min.js","assets/js/demo.js"]},"minifyCSSFiles":["assets/css/theme.css","assets/css/theme-dark.css"],"copyDependencies":{"dist":{"*assets/js/theme-custom.js":""},"build":{"*assets/js/theme-custom.js":"","node_modules/bootstrap-icons/font/*fonts/**":"assets/css"}},"buildFolder":"","replacePathsToCDN":{},"directoryNames":{"src":"./src","dist":"./dist","build":"./build"},"fileNames":{"dist":{"js":"theme.min.js","css":"theme.min.css"},"build":{"css":"theme.min.css","js":"theme.min.js","vendorCSS":"vendor.min.css","vendorJS":"vendor.min.js"}},"fileTypes":"jpg|png|svg|mp4|webm|ogv|json"}
			window.hs_config.gulpRGBA = (p1) => {
				const options = p1.split(',')
				const hex = options[0].toString()
				const transparent = options[1].toString()

				var c;
				if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(hex)){
					c= hex.substring(1).split('');
					if(c.length== 3){
						c= [c[0], c[0], c[1], c[1], c[2], c[2]];
					}
					c= '0x'+c.join('');
					return 'rgba('+[(c>>16)&255, (c>>8)&255, c&255].join(',')+',' + transparent + ')';
				}
				throw new Error('Bad Hex');
			}
			window.hs_config.gulpDarken = (p1) => {
				const options = p1.split(',')

				let col = options[0].toString()
				let amt = -parseInt(options[1])
				var usePound = false

				if (col[0] == "#") {
					col = col.slice(1)
					usePound = true
				}
				var num = parseInt(col, 16)
				var r = (num >> 16) + amt
				if (r > 255) {
					r = 255
				} else if (r < 0) {
					r = 0
				}
				var b = ((num >> 8) & 0x00FF) + amt
				if (b > 255) {
					b = 255
				} else if (b < 0) {
					b = 0
				}
				var g = (num & 0x0000FF) + amt
				if (g > 255) {
					g = 255
				} else if (g < 0) {
					g = 0
				}
				return (usePound ? "#" : "") + (g | (b << 8) | (r << 16)).toString(16)
			}
			window.hs_config.gulpLighten = (p1) => {
				const options = p1.split(',')

				let col = options[0].toString()
				let amt = parseInt(options[1])
				var usePound = false

				if (col[0] == "#") {
					col = col.slice(1)
					usePound = true
				}
				var num = parseInt(col, 16)
				var r = (num >> 16) + amt
				if (r > 255) {
					r = 255
				} else if (r < 0) {
					r = 0
				}
				var b = ((num >> 8) & 0x00FF) + amt
				if (b > 255) {
					b = 255
				} else if (b < 0) {
					b = 0
				}
				var g = (num & 0x0000FF) + amt
				if (g > 255) {
					g = 255
				} else if (g < 0) {
					g = 0
				}
				return (usePound ? "#" : "") + (g | (b << 8) | (r << 16)).toString(16)
			}

	body.has-navbar-vertical-aside.navbar-vertical-aside-show-xl
		script(src="./assets/js/hs.theme-appearance.js")
		script(src="./assets/vendor/hs-navbar-vertical-aside/dist/hs-navbar-vertical-aside-mini-cache.js")

		block header

		main#content.main(role="main")
			block sidebar
			
			.content.container
				block pages

		//- JS Global Compulsory
		script(src="./assets/vendor/jquery/dist/jquery.min.js")
		script(src="./assets/vendor/jquery-migrate/dist/jquery-migrate.min.js")
		script(src="./assets/vendor/bootstrap/dist/js/bootstrap.bundle.min.js")

		//- JS Front
		script(src="./assets/js/theme.min.js")

		//- Java Script
		script(src="./assets/vendor/hs-navbar-vertical-aside/dist/hs-navbar-vertical-aside.min.js")
		script(src="./assets/vendor/hs-form-search/dist/hs-form-search.min.js")
		script(src="./assets/vendor/tom-select/dist/js/tom-select.complete.min.js")
		script(src="./assets/vendor/datatables/media/js/jquery.dataTables.min.js") 
		script(src="./assets/vendor/flatpickr/dist/flatpickr.min.js")

		script(src="./assets/js/main.js")

		//- JS Plugins Init.
		script.
			(function() {
				// INITIALIZATION OF NAVBAR VERTICAL ASIDE
				// =======================================================
				new HSSideNav('.js-navbar-vertical-aside').init()


				// INITIALIZATION OF BOOTSTRAP DROPDOWN
				// =======================================================
				HSBsDropdown.init()


				// INITIALIZATION OF FORM SEARCH
				// =======================================================
				new HSFormSearch('.js-form-search')

				// INITIALIZATION OF SELECT
				// =======================================================
				HSCore.components.HSTomSelect.init('.js-select')

				// INITIALIZATION OF DATATABLES
				// =======================================================
				HSCore.components.HSDatatables.init('.js-datatable')

				// INITIALIZATION OF FLATPICKR
				// =======================================================
				HSCore.components.HSFlatpickr.init('.js-flatpickr')
			})()

		script.
			(function () {
				// STYLE SWITCHER
				// =======================================================
				const $dropdownBtn = document.getElementById('selectThemeDropdown') // Dropdowon trigger
				const $variants = document.querySelectorAll(`[aria-labelledby="selectThemeDropdown"] [data-icon]`) // All items of the dropdown

				// Function to set active style in the dorpdown menu and set icon for dropdown trigger
				const setActiveStyle = function () {
					$variants.forEach($item => {
						if ($item.getAttribute('data-value') === HSThemeAppearance.getOriginalAppearance()) {
							$dropdownBtn.innerHTML = `<i class="${$item.getAttribute('data-icon')}" />`
							return $item.classList.add('active')
						}

						$item.classList.remove('active')
					})
				}

				// Add a click event to all items of the dropdown to set the style
				$variants.forEach(function ($item) {
					$item.addEventListener('click', function () {
						HSThemeAppearance.setAppearance($item.getAttribute('data-value'))
					})
				})

				// Call the setActiveStyle on load page
				setActiveStyle()

				// Add event listener on change style to call the setActiveStyle function
				window.addEventListener('on-hs-appearance-change', function () {
					setActiveStyle()
				})
			})()

		block script 